
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Software, Physics, Data, Mountains</title>
  <meta name="author" content="Mark M Mims, Ph.D.">

  
  <meta name="description" content="dhcpd config apt-get install dhcp3-server edit dhcpd.conf&#8230; to add ddns-update-style none;
option domain-name "blah.blah";
option domain-name- &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://markmims.com/blog/page/7">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Software, Physics, Data, Mountains" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=Ubuntu:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Ubuntu:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4132881-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Software, Physics, Data, Mountains</a></h1>
  
    <h2>...and other random associations</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:markmims.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about.html">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/08/09/howto-pxeboot.html">Pxeboot</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-09T00:00:00+00:00" pubdate data-updated="true">Aug 9<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="dhcpd-config">dhcpd config</h1>

<pre><code>apt-get install dhcp3-server
</code></pre>

<p>edit dhcpd.conf&#8230; to add</p>

<pre><code>ddns-update-style none;
option domain-name "blah.blah";
option domain-name-servers 10.128.92.32, 10.129.92.32;
default-lease-time 600;
max-lease-time 7200;
log-facility local7;

subnet 10.67.93.0 netmask 255.255.255.0 {
  host moe {
    hardware ethernet 00:14:4F:49:E5:DA;
    fixed-address 10.67.93.5;
    filename "pxelinux.0";
    next-server 10.67.93.13;
    option subnet-mask 255.255.255.0;
    option routers 10.67.93.1;
  }
}
</code></pre>

<h1 id="tftpd-config">tftpd config</h1>

<pre><code>apt-get install tftp-hpa tftpd-hda
</code></pre>

<p>copy from ubuntu dist to /srv/tftp</p>

<pre><code>lrwxrwxrwx 1 root root   33 2010-06-04 09:44 pxelinux.0 -&gt; ubuntu-installer/amd64/pxelinux.0
lrwxrwxrwx 1 root root   35 2010-06-04 09:44 pxelinux.cfg -&gt; ubuntu-installer/amd64/pxelinux.cfg
dr-xr-xr-x 3 root root 4096 2010-06-04 09:44 ubuntu-installer
-r--r--r-- 1 root root   58 2010-06-04 09:44 version.info
</code></pre>

<h1 id="apache-config">apache config</h1>

<pre><code>apt-get install apache2 
</code></pre>

<p>unpack install image into /var/www/ubuntu/</p>

<pre><code>root@rory:/var/www/ubuntu-10.04# ls -al
total 176
dr-xr-xr-x 10 root root   4096 2010-04-27 05:56 .
drwxr-xr-x  3 root root   4096 2010-06-04 09:11 ..
-r-xr-xr-x  1 root root   1115 2010-04-23 21:29 cdromupgrade
dr-xr-xr-x  2 root root   4096 2010-04-27 05:55 .disk
dr-xr-xr-x  3 root root   4096 2010-04-27 05:55 dists
dr-xr-xr-x  3 root root   4096 2010-04-27 05:55 doc
dr-xr-xr-x  3 root root   4096 2010-04-27 05:56 install
dr-xr-xr-x  2 root root   4096 2010-04-27 05:56 isolinux
-r--r--r--  1 root root 129953 2010-04-27 05:56 md5sum.txt
dr-xr-xr-x  2 root root   4096 2010-04-27 05:55 pics
dr-xr-xr-x  3 root root   4096 2010-04-27 05:55 pool
dr-xr-xr-x  2 root root   4096 2010-04-27 05:55 preseed
-r--r--r--  1 root root    235 2010-04-27 05:55 README.diskdefines
lrwxrwxrwx  1 root root      1 2010-04-27 05:55 ubuntu -&gt; .
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/07/13/howto-fix-password-expiration.html">Fix Password Expirations</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-13T00:00:00+00:00" pubdate data-updated="true">Jul 13<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>password is expired?</p>

<pre><code>chage -I -1 -m 0 -M 99999 -E -1 username
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/07/10/howto-torrent-in-bison.html">Torrent in Bison</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-10T00:00:00+00:00" pubdate data-updated="true">Jul 10<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>sshfs -C mmm@hawk:/home/torrent/downloads /opt/torrent/downloads -o reconnect,uid=103,gid=107
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/06/26/howto-supermicro-ipmi.html">Supermicro Ipmi</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-26T00:00:00+00:00" pubdate data-updated="true">Jun 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>SuperMicro IPMI Firewall Connection Information</p>

<pre><code>HTTP: 80 (TCP)
HTTPS: 443 (TCP)
IPMI: 623 (UDP)
Remote console: 5900 (TCP)
Virtual media: 623 (TCP)
SMASH: 22 (TCP)
WS-MAN: 8889 (TCP)
Source: http://www.supermicro.com/manuals/other/Onboard_BMC_IPMI.pdf
</code></pre>

<p>&#8211;or&#8211;</p>

<pre><code>ipmitool -I lanplus -H proteus.mgmt.inside.ttu.edu.vn -U ADMIN -P ADMIN sol info
ipmitool -I lanplus -H proteus.mgmt.inside.ttu.edu.vn -U ADMIN -P ADMIN sol activate
</code></pre>

<hr />

<p>Stop a Serial-Over-LAN session</p>

<p>From an existing sol session:</p>

<pre><code>~.
</code></pre>

<p>If your existing sol session is in a terminal you&#8217;ve ssh&#8217;d into, you&#8217;ll have to prepend a tilde for each ssh layer:</p>

<pre><code>~~~.
</code></pre>

<p>From the SOL help:</p>

<pre><code>Supported escape sequences:
~.  - terminate connection
~^Z - suspend ipmitool
~^X - suspend ipmitool, but don't restore tty on restart
~B  - send break
~?  - this message
~~  - send the escape character by typing it twice
(Note that escapes are only recognized immediately after newline.)
</code></pre>

<p>Using the Serial-Over-LAN session</p>

<pre><code>The serial BIOS interface is a bit brain-damaged in that it does not recognise the "F11", and "F12" key escape codes that most terminal programs send, instead you can send "Esc-!", and "Esc-@" (yes very logical, as long as the '@' key is normally typed using 'Shift-2' - as on US keyboards, not miles away from the '2' key, as on many non-US keyboards). These escapes from HP, and Dell serial BIOS' may or may not be useful:

Defined As     F1     F2     F3     F4     F5     F6     F7     F8     F9     F10    F11    F12
Keyboard Entry &lt;ESC&gt;1 &lt;ESC&gt;2 &lt;ESC&gt;3 &lt;ESC&gt;4 &lt;ESC&gt;5 &lt;ESC&gt;6 &lt;ESC&gt;7 &lt;ESC&gt;8 &lt;ESC&gt;9 &lt;ESC&gt;0 &lt;ESC&gt;! &lt;ESC&gt;@

Defined As     Home   End    Insert Delete PageUp PageDn
Keyboard Entry &lt;ESC&gt;h &lt;ESC&gt;k &lt;ESC&gt;+ &lt;ESC&gt;- &lt;ESC&gt;? &lt;ESC&gt;/

Use the &lt;ESC&gt;&lt;Ctrl&gt;&lt;M&gt; key sequence for &lt;Ctrl&gt;&lt;M&gt;

Use the &lt;ESC&gt;&lt;Ctrl&gt;&lt;H&gt; key sequence for &lt;Ctrl&gt;&lt;H&gt;

Use the &lt;ESC&gt;&lt;Ctrl&gt;&lt;I&gt; key sequence for &lt;Ctrl&gt;&lt;I&gt;

Use the &lt;ESC&gt;&lt;Ctrl&gt;&lt;J&gt; key sequence for &lt;Ctrl&gt;&lt;J&gt;

Use the &lt;ESC&gt;&lt;X&gt;&lt;X&gt; key sequence for &lt;Alt&gt;&lt;x&gt;, where x is any letter key, and X is the upper case of that key
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/06/26/howto-setup-encrypted-filesystem.html">Setup Encrypted Fs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-26T00:00:00+00:00" pubdate data-updated="true">Jun 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>dd if=/dev/urandom of=testfile bs=1M count=10
sudo losetup /dev/loop0 testfile 

sudo cryptsetup create crypto /dev/loop0
</code></pre>

<p>(asks for passphrase)</p>

<pre><code>sudo mkfs.ext2 /dev/mapper/crypto 
sudo mount /dev/mapper/crypto /crypt/

sudo umount /crypt/
sudo cryptsetup remove /dev/mapper/crypto 
</code></pre>

<p>works a little differently with an actual partition&#8230; guess it would be</p>

<pre><code>sudo cryptsetup create crypto /dev/sdb1
</code></pre>

<p>(asks for passphrase)</p>

<pre><code>sudo mkfs.ext2 /dev/mapper/crypto 
sudo mount /dev/mapper/crypto /crypt/

sudo umount /crypt/
sudo cryptsetup remove /dev/mapper/crypto 
</code></pre>

<hr />

<p>this seems to keep the video intact for the most part&#8230;  i.e.,</p>

<p>cp Entourage.S06E11.HDTV.XviD-NoTV.avi ~/Documents</p>

<pre><code>560  ls -al
561  sudo losetup /dev/loop0 Entourage.S06E11.HDTV.XviD-NoTV.avi -o 10000000
562  sudo cryptsetup create entourage /dev/loop0
563  sudo mkfs.xfs /dev/mapper/entourage 
564  ls /crypt/
565  sudo mount /dev/mapper/entourage /crypt/
566  ls /crypt/
567  ls -al
568  ls /crypt/
569  ls /crypt/ -al
570  cd /crypt/
571  ls
572  cp /home/mmm/Desktop/junk.odb .
573  sudo cp /home/mmm/Desktop/junk.odb .
574  sudo chown mmm.mmm junk.odb 
575  ls -al
576  cd /
577  cd
578  cd Documents/
579  ls
580  ls -al
581  vlc Entourage.S06E11.HDTV.XviD-NoTV.avi 
582  ls
583  mount
584  sudo umount /crypt/
585  sudo cryptsetup remove /dev/mapper/entourage 
586  sudo losetup -d /dev/loop0 
587  sudo losetup 
588  sudo losetup -a
589  ls
590  history 
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/06/26/howto-set-mac-addr.html">Set Mac Addr</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-26T00:00:00+00:00" pubdate data-updated="true">Jun 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>/etc/udev/rules.d/z25_persistent_net.rules
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/06/26/howto-lock-user-into-screen.html">Lock a User to a Screen Session</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-26T00:00:00+00:00" pubdate data-updated="true">Jun 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>set shell to screen</p>

<pre><code>kurt:x:505:505::/home/kurt:/usr/bin/screen
</code></pre>

<p>with a /home/kurt/.screenrc (perms 644 root.root)</p>

<pre><code>multiuser off
escape ^Ee
bell ''
startup_message off
vbell off
### enabling scroll buffer
termcapinfo xterm|xterms|xs|rxvt ti@:te@
defscrollback         3000
silencewait           15              # default: 30
hardstatus string "%h%?"
### logging
logtstamp on
logfile flush 10
logtstamp after 300
### create windows
screen -t h             1       /bin/bash
logfile /var/lib/audit/$USER
log on
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/06/26/howto-filter-rsnapshot.html">Filter Filetypes From Rsnapshot</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-26T00:00:00+00:00" pubdate data-updated="true">Jun 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>#################################################
# rsnapshot.conf - rsnapshot configuration file #
#################################################
#                                               #
# PLEASE BE AWARE OF THE FOLLOWING RULES:       #
#                                               #
# This file requires tabs between elements      #
#                                               #
# Directories require a trailing slash:         #
#   right: /home/                               #
#   wrong: /home                                #
#                                               #
#################################################

#######################
# CONFIG FILE VERSION #
#######################

config_version	1.2

###########################
# SNAPSHOT ROOT DIRECTORY #
###########################

# All snapshots will be stored under this root directory.
#
#snapshot_root	/.snapshots/
snapshot_root	/mnt/array1/arch/

# If no_create_root is enabled, rsnapshot will not automatically create the
# snapshot_root directory. This is particularly useful if you are backing
# up to removable media, such as a FireWire or USB drive.
#
#no_create_root	1

#################################
# EXTERNAL PROGRAM DEPENDENCIES #
#################################

# LINUX USERS:   Be sure to uncomment "cmd_cp". This gives you extra features.
# EVERYONE ELSE: Leave "cmd_cp" commented out for compatibility.
#
# See the README file or the man page for more details.
#
#cmd_cp		/bin/cp

# uncomment this to use the rm program instead of the built-in perl routine.
#
cmd_rm		/bin/rm

# rsync must be enabled for anything to work. This is the only command that
# must be enabled.
#
cmd_rsync	/usr/bin/rsync

# Uncomment this to enable remote ssh backups over rsync.
#
cmd_ssh	/usr/local/bin/ssh

# Comment this out to disable syslog support.
#
cmd_logger	/usr/bin/logger

# Uncomment this to specify the path to "du" for disk usage checks.
# If you have an older version of "du", you may also want to check the
# "du_args" parameter below.
#
#cmd_du		/usr/bin/du

# Uncomment this to specify the path to rsnapshot-diff.
#
#cmd_rsnapshot_diff	/usr/local/bin/rsnapshot-diff

# Specify the path to a script (and any optional arguments) to run right
# before rsnapshot syncs files
#
#cmd_preexec	/path/to/preexec/script

# Specify the path to a script (and any optional arguments) to run right
# after rsnapshot syncs files
#
#cmd_postexec	/path/to/postexec/script

#########################################
#           BACKUP INTERVALS            #
# Must be unique and in ascending order #
# i.e. hourly, daily, weekly, etc.      #
#########################################

#interval	hourly	6
interval	daily	7
interval	weekly	4
interval	monthly	6

############################################
#              GLOBAL OPTIONS              #
# All are optional, with sensible defaults #
############################################

# Verbose level, 1 through 5.
# 1     Quiet           Print fatal errors only
# 2     Default         Print errors and warnings only
# 3     Verbose         Show equivalent shell commands being executed
# 4     Extra Verbose   Show extra verbose information
# 5     Debug mode      Everything
#
verbose		2

# Same as "verbose" above, but controls the amount of data sent to the
# logfile, if one is being used. The default is 3.
#
loglevel	3

# If you enable this, data will be written to the file you specify. The
# amount of data written is controlled by the "loglevel" parameter.
#
logfile	/var/log/rsnapshot

# If enabled, rsnapshot will write a lockfile to prevent two instances
# from running simultaneously (and messing up the snapshot_root).
# If you enable this, make sure the lockfile directory is not world
# writable. Otherwise anyone can prevent the program from running.
#
lockfile	/var/run/rsnapshot.pid

# Default rsync args. All rsync commands have at least these options set.
#
#rsync_short_args	-a
#rsync_long_args	--delete --numeric-ids --relative --delete-excluded

# ssh has no args passed by default, but you can specify some here.
#
#ssh_args	-p 22

# Default arguments for the "du" program (for disk space reporting).
# The GNU version of "du" is preferred. See the man page for more details.
# If your version of "du" doesn't support the -h flag, try -k flag instead.
#
#du_args	-csh

# If this is enabled, rsync won't span filesystem partitions within a
# backup point. This essentially passes the -x option to rsync.
# The default is 0 (off).
#
one_fs		1

# The include and exclude parameters, if enabled, simply get passed directly
# to rsync. If you have multiple include/exclude patterns, put each one on a
# separate line. Please look up the --include and --exclude options in the
# rsync man page for more details on how to specify file name patterns. 
# 
#include	???
#include	???
#exclude	???
#exclude	???
exclude	*.zip
exclude	*.gz
exclude	*.tgz
exclude	*.bz2
exclude	/**/Videos/***
exclude	/**/Music/***
exclude	/**/music/***
exclude	/**/Audio/***
exclude	*.iso
exclude	*.mp4
exclude	*.mp3
exclude	*.wav
exclude	*.avi
exclude	*.mov
exclude	*.wmv
exclude	*.flv
exclude	*.pps
exclude	*.dv
exclude	*.ogg
exclude	/**/vmware/***
exclude	/**/.vmware/***
exclude	/**/kvm/***
exclude	/**/.kvm/***
exclude	*.vmdk
exclude	*.qcow2
exclude	*.raw
exclude	/**/Photos/***
exclude	/**/photos/***
exclude	/**/Pictures/***
exclude	*.jpg
exclude	/**/Downloads/***
exclude	/**/dloads/***
exclude	/**/rescue/***
exclude	/**/rubygems/***
exclude	/**/.gems/***
exclude	/**/Metasploit/***
exclude	/**/Eclipse/***

# The include_file and exclude_file parameters, if enabled, simply get
# passed directly to rsync. Please look up the --include-from and
# --exclude-from options in the rsync man page for more details.
#
#include_file	/path/to/include/file
#exclude_file	/path/to/exclude/file

# If your version of rsync supports --link-dest, consider enable this.
# This is the best way to support special files (FIFOs, etc) cross-platform.
# The default is 0 (off).
#
link_dest	1

# When sync_first is enabled, it changes the default behaviour of rsnapshot.
# Normally, when rsnapshot is called with its lowest interval
# (i.e.: "rsnapshot hourly"), it will sync files AND rotate the lowest
# intervals. With sync_first enabled, "rsnapshot sync" handles the file sync,
# and all interval calls simply rotate files. See the man page for more
# details. The default is 0 (off).
#
#sync_first	0

# If enabled, rsnapshot will move the oldest directory for each interval
# to [interval_name].delete, then it will remove the lockfile and delete
# that directory just before it exits. The default is 0 (off).
#
#use_lazy_deletes	0

###############################
### BACKUP POINTS / SCRIPTS ###
###############################

# LOCALHOST
backup	root@192.168.100.2:/etc/		hawk/
backup	root@192.168.100.2:/home/		hawk/
backup	root@192.168.100.2:/usr/local/	hawk/
#backup	/var/log/rsnapshot		localhost/
#backup	/etc/passwd	localhost/
#backup	/home/foo/My Documents/		localhost/
#backup	/foo/bar/	localhost/	one_fs=1, rsync_short_args=-urltvpog
#backup_script		/usr/local/bin/backup_pgsql.sh	localhost/postgres/

# EXAMPLE.COM
#backup_script	/bin/date "+ backup of example.com started at %c"	unused1
#backup	root@example.com:/home/	example.com/	+rsync_long_args=--bwlimit=16,exclude=core
#backup	root@example.com:/etc/	example.com/	exclude=mtab,exclude=core
#backup_script	ssh root@example.com "mysqldump -A &gt; /var/db/dump/mysql.sql"
#backup	root@example.com:/var/db/dump/	example.com/
#backup_script	/bin/date "+ backup of example.com ended at %c"	unused2

# CVS.SOURCEFORGE.NET
#backup_script	/usr/local/bin/backup_rsnapshot_cvsroot.sh	rsnapshot.cvs.sourceforge.net/

# RSYNC.SAMBA.ORG
#backup	rsync://rsync.samba.org/rsyncftp/	rsync.samba.org/rsyncftp/
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/06/26/howto-autostart-mongrel-in-slice.html">Autostart Mongrel in Slice</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-26T00:00:00+00:00" pubdate data-updated="true">Jun 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>/usr/local/sbin/run_mongrel_cluster_ctl.sh</p>

<pre><code>#!/bin/bash

export RUBYGEMS=/usr/local/rubygems
export GEM_HOME=${RUBYGEMS}/gems
export GEM_PATH=${RUBYGEMS}/gems
export RUBYLIB=${RUBYGEMS}/lib
export PATH=${RUBYGEMS}/gems/bin:${RUBYGEMS}/bin:$PATH

mongrel_cluster_ctl $*
</code></pre>

<p>/etc/init.d/jsas_cluster</p>

<pre><code>#!/bin/sh
#
# mongrel jsas cluster init script
#
### BEGIN INIT INFO
# Provides:          jsas_cluster
# Required-Start:    $network $local_fs $remote_fs
# Required-Stop:
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: init-Script for jsas mongrel_cluster
### END INIT INFO

#sudo -i -u jsas $DAEMON_CTL help

set -e

# Defaults
PATH=/sbin:/usr/sbin:/usr/local/sbin:/bin:/usr/bin:/usr/local/bin
DAEMON_CTL=/usr/local/sbin/run_mongrel_cluster_ctl.sh
USER=jsas
OPTIONS=""

PIDFILE="/var/run/mongrel_cluster.pid"

test -f $DAEMON_CTL || exit 0

. /lib/lsb/init-functions

case "$1" in
	start)
    sudo -i -u jsas $DAEMON_CTL start
		;;
	stop)
    sudo -i -u jsas $DAEMON_CTL stop
		;;
	force-reload|restart)
    sudo -i -u jsas $DAEMON_CTL restart
		;;
	status)
    sudo -i -u jsas $DAEMON_CTL status
		;;
	*)
		log_warning_msg "Usage: /etc/init.d/jsas_cluster {start|stop|restart}"
		log_warning_msg "  start - starts system-wide jsas_cluster service"
		log_warning_msg "  stop  - stops system-wide jsas_cluster service"
		log_warning_msg "  restart, force-reload - starts a new system-wide jsas_cluster service"
		log_warning_msg "  status  - status of system-wide jsas_cluster service"
		log_warning_msg "    system-wide jsas cluster service"
		exit 1
		;;
esac

exit 0
</code></pre>

<p>then update the rc scripts&#8230;</p>

<pre><code>update-rc.d jsas_cluster defaults 98 02
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/howtos/2010/06/26/howto-add-user-osx-cli.html">Add User in Osx From the Cli</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-26T00:00:00+00:00" pubdate data-updated="true">Jun 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>totally fucking ridiculous!</p>

<pre><code>bipp-dcd:/Users root# niutil -create / /users/markv
bipp-dcd:/Users root# niutil -create / /groups/markv
bipp-dcd:/Users root# niutil -createprop / /users/markv uid 504
bipp-dcd:/Users root# niutil -createprop / /groups/markv gid 504
bipp-dcd:/Users root# niutil -createprop / /users/markv gid 504
bipp-dcd:/Users root# niutil -createprop / /users/markv realname "Mark Vaughan"
bipp-dcd:/Users root# niutil -createprop / /users/markv shell "/bin/bash"      
bipp-dcd:/Users root# niutil -createprop / /users/markv home "/Users/markv"
bipp-dcd:/Users root# cp -R /System/Library/User\ Template/English.lproj /Users/markv
bipp-dcd:/Users root# chown -Rf markv:markv /Users/markv
bipp-dcd:/Users root# passwd markv
</code></pre>

<p>also</p>

<pre><code>niutil -appendprop / /groups/admin users markv

niutil -list . /

niutil -read / /users/markv

niutil -read / /groups/admin
</code></pre>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <section>
    <div id='container'>
      <div id='about-sidebar'>
      </div>
      <br/>
    </div>
    <script type='text/javascript'>
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type='text/javascript'>
      var pageTracker = _gat._getTracker("UA-4132881-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>
  </section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/mids/ubuntu/2020/07/29/screencasts-with-ffmpeg.html">Screencasts on Ubuntu using ffmpeg</a>
      </li>
    
      <li class="post">
        <a href="/devops/cloud/gcp/iam/2019/06/05/managed-projects-in-gcp.html">Projects in GCP using Central Billing Accounts</a>
      </li>
    
      <li class="post">
        <a href="/data-engineering/spark/hadoop/devops/2016/03/17/hwtb-sessions.html">Identifying User Activity from Streams of Raw Events</a>
      </li>
    
      <li class="post">
        <a href="/docker/data-engineering/spark/devops/2015/10/13/docker-cdh.html">Develop Spark Apps on Yarn using Docker</a>
      </li>
    
      <li class="post">
        <a href="/2015/06/01/ssh-tips.html">SSH Tips and Tricks</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - Mark M Mims, Ph.D. -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
